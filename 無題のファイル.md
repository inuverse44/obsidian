---
template: Inbox
title: ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥ã‚Œã¦ãã ã•ã„
date: 2025-07-07
source: ã‚½ãƒ¼ã‚¹ã‚’å…¥ã‚Œã¦ãã ã•ã„
tags: 
status: pending
priority: å„ªå…ˆåº¦
aliases:
---

# è¦ç´„
- Udemyã®å•é¡Œè§£èª¬
- ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£å•é¡Œã§Cloud Functionã®å‘¼ã³å‡ºã—ã®èªè¨¼ã«é–¢ã™ã‚‹å•é¡Œ
- 

# è©³ç´°ãƒ¡ãƒ¢

## ç¬¬ï¼“å›ž
### Q3

å•é¡Œï¼š
>ã€ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£å•é¡Œã€‘ã“ã®è³ªå•ã«ã¤ã„ã¦ã¯ã€TerramEarthã®ã‚±ãƒ¼ã‚¹ã‚¹ã‚¿ãƒ‡ã‚£ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚
>
>ã‚ãªãŸã¯ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã«ã„ãã¤ã‹ã®Cloud Functionã‚’ä½¿ç”¨ã™ã‚‹æ–°ã—ã„ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®æ§‹ç¯‰ã‚’é–‹å§‹ã—ã¾ã™ã€‚ã‚ã‚‹ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã§ã¯ã€Cloud Function func_displayãŒåˆ¥ã®Cloud Function func_queryã‚’å‘¼ã³å‡ºã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®æ™‚ã€func_displayã‹ã‚‰ã®å‘¼ã³å‡ºã—ã‚’func_queryã ã‘ãŒå—ã‘ä»˜ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã¾ãŸã€Googleã®æŽ¨å¥¨ã™ã‚‹ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«ã‚‚å¾“ã„ãŸã„ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚
>
>è¦ä»¶ã‚’é”æˆã™ã‚‹ãŸã‚ã«ã™ã‚‹ã¹ãã“ã¨ã¯ä½•ã§ã™ã‹ï¼Ÿ

é¸æŠžè‚¢ï¼š
1. ã“ã‚Œã‚‰ã®2ã¤ã®Functionã‚’åŒã˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨VPCã«ä½œæˆã™ã‚‹ã€‚func_queryãŒå†…éƒ¨ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ã¿ã‚’å—ã‘å…¥ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚func_queryã«ã¯ã€func_displayã‹ã‚‰ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ã¿ã‚’è¨±å¯ã™ã‚‹ingressãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ã‚’ä½œæˆã™ã‚‹ã€‚ã¾ãŸã€ä¸¡æ–¹ã®FunctionãŒåŒã˜ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹
2. ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½œæˆã—ã€ç’°å¢ƒå¤‰æ•°ã¨ã—ã¦func_displayã«æ¸¡ã™ã‚‹ã€‚func_queryã‚’èµ·å‹•ã™ã‚‹ã¨ãã«ã€ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«ãƒˆãƒ¼ã‚¯ãƒ³ã‚’å«ã‚ã‚‹ã€‚åŒã˜ãƒˆãƒ¼ã‚¯ãƒ³ã‚’func_queryã«æ¸¡ã—ã€ãƒˆãƒ¼ã‚¯ãƒ³ãŒç•°ãªã‚‹å ´åˆã¯å‘¼ã³å‡ºã—ã‚’æ‹’å¦ã™ã‚‹
3. func_queryã‚’ã€Œèªè¨¼ã‚’å¿…é ˆã«ã™ã‚‹ã€ã‚ˆã†ã«ã™ã‚‹ã€‚å›ºæœ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã€ãã‚Œã‚’func_displayã«é–¢é€£ä»˜ã‘ã‚‹ã€‚func_queryã«ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®invokerãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸Žã™ã‚‹ã€‚func_displayã«idãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½œæˆã—ã€func_queryã®èµ·å‹•æ™‚ã«ãã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã‚ã‚‹
4. func_queryã‚’ã€Œèªè¨¼ã‚’å¿…é ˆã«ã™ã‚‹ã€ã‚ˆã†ã«ã—ã¦ã€å†…éƒ¨ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ã¿ã‚’å—ã‘ä»˜ã‘ã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚ã“ã®2ã¤ã®Functionã‚’åŒã˜VPCå†…ã«ä½œæˆã™ã‚‹ã€‚func_queryã«ingressãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ãƒ«ãƒ¼ãƒ«ã‚’ä½œæˆã—ã€func_displayã‹ã‚‰ã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã®ã¿ã‚’è¨±å¯ã™ã‚‹

ç§ã®å›žç­”ï¼š
2

å®Ÿéš›ã®å›žç­”ï¼š
3

Udemyè§£èª¬ï¼š
>è¤‡æ•°ã®Cloud Functionã‚’æŽ¥ç¶šã™ã‚‹ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹å ´åˆã€å„FunctionãŒä»–ã®Functionã®ç‰¹å®šã®ã‚µãƒ–ã‚»ãƒƒãƒˆã«å¯¾ã—ã¦ã®ã¿ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ãŒãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã™ã€‚
>
>ãŸã¨ãˆã°ã€ãƒ­ã‚°ã‚¤ãƒ³ç”¨ã®FunctionãŒã‚ã‚‹å ´åˆã€ãã®Functionã¯ãƒ¦ãƒ¼ã‚¶ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç”¨ã®Functionã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã¯ãšã§ã™ãŒã€ æ¤œç´¢ç”¨ã®Functionã«ã¯ã‚¢ã‚¯ã‚»ã‚¹ã§ããªã„ã‚ˆã†ã«ã™ã‚‹ã¹ãã§ã™ã€‚
>
>ç‰¹å®šã®å‘¼ã³å‡ºã—å´ã®Functionã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å…¥ã‚Œã‚‹ã‚ˆã†ã«å—ä¿¡å´Functionã‚’è¨­å®šã™ã‚‹ã«ã¯ã€å—ä¿¡å´Functionã®å‘¼ã³å‡ºã—å´Functionã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«Cloud Functions Invoker (roles/cloudfunctions.invoker) ãƒ­ãƒ¼ãƒ«ã‚’å‰²ã‚Šå½“ã¦ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
>
>ã—ãŸãŒã£ã¦æ­£è§£ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚
>
>ã€Œfunc_queryã‚’ã€Œèªè¨¼ã‚’å¿…é ˆã«ã™ã‚‹ã€ã‚ˆã†ã«è¨­å®šã™ã‚‹ã€‚å›ºæœ‰ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã—ã€ãã‚Œã‚’func_displayã«é–¢é€£ä»˜ã‘ã‚‹ã€‚func_queryã«ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®invokerãƒ­ãƒ¼ãƒ«ã‚’ä»˜ä¸Žã™ã‚‹ã€‚func_displayã«idãƒˆãƒ¼ã‚¯ãƒ³ã‚’ä½œæˆã—ã€func_queryã®èµ·å‹•æ™‚ã«ãã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å«ã‚ã‚‹ã€
>
>å‚è€ƒï¼š
>[https://cloud.google.com/functions/docs/securing/authenticating](https://cloud.google.com/functions/docs/securing/authenticating)

# ðŸ”— é–¢é€£
